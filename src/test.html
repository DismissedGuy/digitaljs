<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
    <title><%= htmlWebpackPlugin.options.title %></title>
  </head>
  <body>
    <div id="paper">
    </div>
    <script>
      const circuit = new digitaljs.Circuit({
        subcircuits: {
          'halfadder' : {
            devices: {
              and: {
                type: '$and'
              },
              xor: {
                type: '$xor'
              },
              o: {
                type: '$output'
              },
              c: {
                type: '$output'
              },
              a: {
                type: '$input'
              },
              b: {
                type: '$input'
              }
            },
            connectors: [{
              from: 'a.out',
              to: 'and.in1'
            }, {
              from: 'a.out',
              to: 'xor.in1'
            }, {
              from: 'b.out',
              to: 'and.in2'
            }, {
              from: 'b.out',
              to: 'xor.in2'
            }, {
              from: 'and.out',
              to: 'c.in'
            }, {
              from: 'xor.out',
              to: 'o.in'
            }]
          }
        }, devices: {
          carry: {
            type: '$or',
          }, 
          h1: {
            type: 'halfadder',
            label: 'ha1'
          }, 
          h2: {
            type: 'halfadder',
            label: 'ha2'
          }, 
          btn1: {
            type: '$button',
          },
          btn2: {
            type: '$button',
          },
          btn3: {
            type: '$button',
          }
        },
        connectors: [{
          from: 'h1.c',
          to: 'carry.in1'
        }, {
          from: 'h2.c',
          to: 'carry.in2'
        }, {
          from: 'h1.o',
          to: 'h2.a'
        }, {
          from: 'btn1.out',
          to: 'h1.a'
        }, {
          from: 'btn2.out',
          to: 'h1.b'
        }, {
          from: 'btn3.out',
          to: 'h2.b'
        }]});
      const paper = circuit.displayOn($('#paper'));
    </script>
  </body>
</html>
